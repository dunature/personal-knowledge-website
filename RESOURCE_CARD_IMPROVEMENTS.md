# 资源卡片统一化改进

## 改进概述

统一了所有资源卡片的大小和文本显示，确保视觉一致性和更好的用户体验。

## 主要改进

### 1. 统一卡片高度
- **封面区域**: 固定高度 200px
- **内容区域**: 固定高度 200px
- **总高度**: 400px（所有卡片类型）

### 2. 文本截断规则

#### 标题
- **行数限制**: 2行 (`line-clamp-2`)
- **最小高度**: 48px
- **字符估算**: 约60个字符（中文约30个字）
- **悬停提示**: 添加 `title` 属性显示完整标题

#### 推荐语
- **行数限制**: 2行 (`line-clamp-2`)
- **字符估算**: 约80个字符（中文约40个字）
- **悬停提示**: 添加 `title` 属性显示完整内容

#### 作者/平台信息
- **截断方式**: 单行截断 (`truncate`)
- **防止换行**: 确保信息在一行内显示

#### 底部元数据
- **最大宽度**: 150px
- **截断方式**: `truncate`
- **防止溢出**: 使用 `flex-shrink-0` 保护CTA按钮

### 3. 标签显示优化
- **数量限制**: 最多显示3个标签 (`slice(0, 3)`)
- **最小高度**: 24px（即使没有标签也保持布局一致）
- **防止换行**: 使用 `flex-wrap` 但限制数量

### 4. 布局改进

#### Flexbox 布局
```css
.content-area {
  display: flex;
  flex-direction: column;
  height: 200px;
}
```

#### 空间分配
- **标签区**: `min-h-[24px] mb-2`
- **标题区**: `min-h-[48px] mb-2`
- **作者区**: `mb-2`
- **推荐语**: `flex-1 mb-2`（占据剩余空间）
- **底部区**: `mt-auto`（自动推到底部）

## 修改的文件

1. `BlogCard.tsx` - 博客文章卡片
2. `VideoCard.tsx` - 视频卡片（YouTube/Bilibili）
3. `GitHubCard.tsx` - GitHub项目卡片
4. `RedditCard.tsx` - Reddit话题卡片
5. `ToolCard.tsx` - 工具/网站卡片

## 视觉效果

### 之前的问题
- ❌ 卡片高度不一致
- ❌ 长标题导致布局错乱
- ❌ 推荐语长度不受控制
- ❌ 标签过多导致挤压其他内容

### 改进后的效果
- ✅ 所有卡片高度统一（400px）
- ✅ 标题最多2行，超出显示省略号
- ✅ 推荐语最多2行，超出显示省略号
- ✅ 标签最多显示3个
- ✅ 悬停时显示完整文本
- ✅ 底部CTA按钮始终可见

## 响应式考虑

当前设计针对桌面端（320px宽度卡片）：
- 标题2行约60个字符
- 推荐语2行约80个字符

如果需要支持移动端，可能需要调整：
- 卡片宽度
- 字体大小
- 行高
- 截断字符数

## 字符数估算

### 英文
- 标题: 约60个字符（2行 × 30字符/行）
- 推荐语: 约80个字符（2行 × 40字符/行）

### 中文
- 标题: 约30个字符（2行 × 15字符/行）
- 推荐语: 约40个字符（2行 × 20字符/行）

### 混合（中英文）
- 实际字符数会根据中英文比例变化
- 中文字符占用约2倍英文字符宽度

## CSS 类说明

### Tailwind 工具类

```css
/* 行数限制 */
line-clamp-2  /* 限制2行，超出显示省略号 */

/* 单行截断 */
truncate      /* 单行截断，超出显示省略号 */

/* 布局 */
flex flex-col /* Flexbox 纵向布局 */
flex-1        /* 占据剩余空间 */
mt-auto       /* 自动推到底部 */
flex-shrink-0 /* 防止收缩 */

/* 高度 */
h-[200px]     /* 固定高度 200px */
min-h-[24px]  /* 最小高度 24px */
min-h-[48px]  /* 最小高度 48px */

/* 宽度 */
max-w-[150px] /* 最大宽度 150px */
```

## 测试建议

### 测试场景

1. **短标题 + 短推荐语**
   - 验证最小高度是否生效
   - 验证布局是否保持一致

2. **长标题 + 长推荐语**
   - 验证是否正确截断为2行
   - 验证省略号是否显示
   - 验证悬停提示是否显示完整文本

3. **多标签**
   - 验证是否只显示前3个标签
   - 验证标签区域高度是否一致

4. **无标签**
   - 验证布局是否保持一致
   - 验证最小高度是否生效

5. **长元数据**
   - 验证底部信息是否正确截断
   - 验证CTA按钮是否始终可见

### 浏览器兼容性

- ✅ Chrome/Edge (Chromium)
- ✅ Firefox
- ✅ Safari
- ⚠️ IE11 (不支持 `line-clamp`，需要 polyfill)

## 未来改进建议

1. **动态字符数限制**
   - 根据卡片宽度动态调整截断字符数
   - 使用 JavaScript 精确控制字符数

2. **展开/收起功能**
   - 点击"查看更多"展开完整内容
   - 适用于详情页或弹窗

3. **国际化支持**
   - 根据语言调整字符数限制
   - 中文、日文、韩文需要更少字符数

4. **可访问性**
   - 确保屏幕阅读器可以读取完整文本
   - 添加 ARIA 标签

5. **性能优化**
   - 使用虚拟滚动处理大量卡片
   - 懒加载图片和内容

## 相关文档

- [UI 设计系统](./src/styles/README.md)
- [组件开发指南](./CONTRIBUTING.md)
- [性能优化指南](./PERFORMANCE_OPTIMIZATION.md)
