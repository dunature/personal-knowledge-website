# 🧪 平台自动填充功能测试清单

## 快速开始

```bash
cd personal-knowledge-website
npm run dev
```

然后访问: **http://localhost:5173/platform-autofill-test**

---

## ✅ 测试清单

### 1. YouTube 测试

- [ ] 访问测试页面
- [ ] 使用默认 URL 或输入: `https://www.youtube.com/watch?v=dQw4w9WgXcQ`
- [ ] 点击"测试 YouTube"
- [ ] 验证结果:
  - [ ] 成功获取标题
  - [ ] 成功获取作者
  - [ ] 成功获取封面
  - [ ] 封面图片正常显示

**预期**: ✅ 全部成功

---

### 2. Bilibili 测试（重点）

- [ ] 访问测试页面
- [ ] 使用新的默认 URL: `https://www.bilibili.com/video/BV1uv411q7Mv`
- [ ] 点击"测试 Bilibili"
- [ ] 验证结果:
  - [ ] 成功获取标题
  - [ ] 成功获取 UP主
  - [ ] 成功获取封面
  - [ ] 封面图片正常显示
  - [ ] 没有 CORS 错误
  - [ ] 没有 -404 错误

**预期**: ✅ 全部成功

**如果失败**:
- 查看控制台错误信息
- 尝试其他视频: `BV1xx411c7mD`
- 或从 Bilibili 首页选择任意热门视频

---

### 3. GitHub 测试

- [ ] 访问测试页面
- [ ] 使用默认 URL: `https://github.com/facebook/react`
- [ ] 点击"测试 GitHub"
- [ ] 验证结果:
  - [ ] 成功获取仓库名
  - [ ] 成功获取作者
  - [ ] 成功获取描述
  - [ ] 成功获取星标数

**预期**: ✅ 全部成功

**如果失败**:
- 可能是速率限制（60次/小时）
- 等待一小时后重试
- 或尝试其他仓库

---

### 4. 实际编辑器测试 - GitHub

- [ ] 访问主页
- [ ] 点击"添加资源"
- [ ] 输入 URL: `https://github.com/facebook/react`
- [ ] 选择类型: "GitHub 仓库"
- [ ] 验证:
  - [ ] "自动填充"按钮显示
  - [ ] 按钮位置正确（封面输入框旁边）
- [ ] 点击"自动填充"按钮
- [ ] 验证结果:
  - [ ] 标题自动填充: "react"
  - [ ] 作者自动填充: "facebook"
  - [ ] 推荐语自动填充: "A declarative..."

**预期**: ✅ 全部成功

---

### 5. 实际编辑器测试 - Bilibili

- [ ] 点击"添加资源"
- [ ] 输入 URL: `https://www.bilibili.com/video/BV1uv411q7Mv`
- [ ] 选择类型: "Bilibili 视频"
- [ ] 验证:
  - [ ] "自动填充"按钮显示
- [ ] 点击"自动填充"按钮
- [ ] 验证结果:
  - [ ] 标题自动填充
  - [ ] 作者自动填充
  - [ ] 封面自动填充
  - [ ] 封面图片正常显示

**预期**: ✅ 全部成功

---

### 6. 实际编辑器测试 - YouTube

- [ ] 点击"添加资源"
- [ ] 输入 URL: `https://www.youtube.com/watch?v=dQw4w9WgXcQ`
- [ ] 选择类型: "YouTube 视频"
- [ ] 验证:
  - [ ] "自动填充"按钮显示
- [ ] 点击"自动填充"按钮
- [ ] 验证结果:
  - [ ] 标题自动填充
  - [ ] 作者自动填充
  - [ ] 封面自动填充

**预期**: ✅ 全部成功

---

## 📊 测试结果汇总

| 平台 | 测试页面 | 编辑器 | 状态 | 备注 |
|------|---------|--------|------|------|
| YouTube | ☐ | ☐ | | |
| Bilibili | ☐ | ☐ | | |
| GitHub | ☐ | ☐ | | |

---

## 🐛 问题记录

如果遇到问题，请记录：

### YouTube
- 问题: ___________
- 错误信息: ___________
- 控制台日志: ___________

### Bilibili
- 问题: ___________
- 错误信息: ___________
- 使用的 BV 号: ___________
- 控制台日志: ___________

### GitHub
- 问题: ___________
- 错误信息: ___________
- 控制台日志: ___________

---

## 💡 常见问题

### Q: Bilibili 返回 -404 错误
**A**: 视频不存在或已被删除，尝试其他视频：
- BV1uv411q7Mv（官方视频）
- BV1xx411c7mD（音乐视频）
- 或从首页选择热门视频

### Q: GitHub 返回速率限制错误
**A**: 未认证请求限制为 60 次/小时，等待一小时后重试

### Q: 看到 CORS 错误
**A**: 
- 确认开发服务器正在运行
- 确认访问的是 `localhost:5173`
- 检查 Vite 代理配置

### Q: 按钮不显示
**A**: 
- 确认已输入 URL
- 确认已选择正确的类型
- 刷新页面重试

---

## ✅ 测试通过标准

所有以下条件都满足：

- ✅ YouTube 能够获取标题、作者和封面
- ✅ Bilibili 能够获取标题、UP主和封面（使用有效视频）
- ✅ GitHub 能够获取仓库名、作者和描述
- ✅ 所有平台的"自动填充"按钮都正常显示
- ✅ 没有 CORS 错误
- ✅ 错误处理友好且有帮助

---

## 🎉 测试完成

测试完成后，请反馈：

1. 哪些测试通过了？
2. 哪些测试失败了？
3. 具体的错误信息是什么？
4. 是否需要进一步的修复？

---

**测试日期**: ___________  
**测试人**: ___________  
**总体结果**: ☐ 通过 / ☐ 失败  
**备注**: ___________
